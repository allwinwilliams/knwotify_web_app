
<%= render "components/navbar" %>
<%= render "components/search_bar" %>
<div class="container py-3 ">
  <div class="my-4">
    <% @posts.each do |post| %>
      <div class="my-5 mb-5">
        <%= link_to post_path(post.n.id) do%>
          <h2 class="text-dark"><%=  truncate(post.n.properties[:title], :length => 100)%></h2>
          <p class="list-group-item-text text-secondary pb-3"><%= truncate(post.n.properties[:content], :length => 250) %></p>
        <% end %>
        <hr />
      </div>
    <% end %>
  </div>

  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li class="page-item">
        <%= link_to (@page>1) ? users_posts_path(page: "#{@page-1}") : "#", class: "page-link" do%>
          <b aria-label="Next">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Next</span>
          </b>
        <%end%>
      </li>
      <% for i in 1..@total_pages do %>
        <li class="page-item"><%= link_to "#{i}", users_posts_path(page: "#{i}"), class: "page-link" %></li>
      <%end%>

      <li class="page-item">
        <%= link_to (@page<@total_pages) ? users_posts_path(page: "#{@page+1}") : "#", class: "page-link" do%>
          <b aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </b>
        <%end%>
      </li>
    </ul>
  </nav>

</div>
